---
deps: [spawning-machines]
group: invoking-services
status: complete # in-progress, complete
needs: # content, tech-review, copy-review
---

When you want to stop a spawned actor, you can either stop the parent machine, which will stop all child actors automatically, or stop the actor via the `stop` action.

```ts twoslash {9, 35-37}
const childMachine = createMachine({
  /* ... */
});

// ---cut---
import {
  createMachine,
  spawn,
  assign,
  actions,
  ActorRefFrom,
} from "xstate";

const { stop } = actions;

const parentMachine = createMachine(
  {
    /**
     * In TypeScript, you can use the ActorRefFrom helper
     * to type the machine
     */
    schema: {
      context: {} as {
        childMachineRef: ActorRefFrom<typeof childMachine>;
      },
    },
    entry: [
      assign({
        childMachineRef: () => spawn(childMachine),
      }),
    ],
    on: {
      STOP: {
        actions: "stopMachine",
      },
    },
  },
  {
    actions: {
      stopMachine: stop(
        (context) => context.childMachineRef,
      ),
    },
  },
);
```
