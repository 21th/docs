---
deps:
  ["callback-services", "machine-services", "send-parent"]
group: invoking-services
status: complete # in-progress, complete
needs: # content, tech-review, copy-review
---

We’ve learned that invoked services can send events to their parent via the invoked machine’s `sendParent` action and the invoked callback’s `sendBack` method. Child services can also _receive_ events from the parent, allowing for bidirectional communication.

You must give invoked services a unique id with `invoke.id` to enable parent to child communication:

```ts twoslash {9}
import { createMachine } from "xstate";

const childMachine = createMachine({
  /* ... */
});

const parentMachine = createMachine({
  invoke: {
    id: "child",
    src: childMachine,
  },
});
```

Once the invoked service has an id, you can use that ID to send it events via the `send` event.

In the example below, we specify that we want to send the `HELLO_FROM_PARENT` event to the `child` invocation after 3 seconds. The child then logs a message to the console.

```ts twoslash {31-33}
import { createMachine, send } from "xstate";

const childMachine = createMachine(
  {
    on: {
      HELLO_FROM_PARENT: {
        actions: "logToConsole",
      },
    },
  },
  {
    actions: {
      logToConsole: () => {
        console.log("Event received!");
      },
    },
  },
);

const parentMachine = createMachine({
  invoke: {
    id: "child",
    src: childMachine,
  },
  after: {
    3000: {
      actions: send(
        {
          type: "HELLO_FROM_PARENT",
        },
        {
          to: "child",
        },
      ),
    },
  },
});
```
