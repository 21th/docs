---
deps: [spawning-machines, "observable-services"]
group: invoking-services
status: complete # in-progress, complete
needs: # content, tech-review, copy-review
---

Just like invoking observables, observables can be spawned as actors:

```ts twoslash
import { createMachine, assign, spawn } from "xstate";
import { interval } from "rxjs";
import { map } from "rxjs/operators";

const createCounterObservable = (ms: number) =>
  interval(ms).pipe(
    map((count) => ({ type: "COUNT.UPDATE", count })),
  );

const machine = createMachine(
  {
    context: { ms: 1000 },
    entry: assign({
      counterRef: ({ ms }) =>
        spawn(createCounterObservable(ms)),
    }),
    on: {
      "COUNT.UPDATE": {
        actions: "logCount",
      },
    },
  },
  {
    actions: {
      logCount: (context, event) => {
        console.log(event.count);
      },
    },
  },
);
```
