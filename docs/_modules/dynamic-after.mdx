---
deps: ["after", "options-api"]
group: transitions-and-choices
status: complete # in-progress, complete
needs: # content, tech-review, copy-review
---

Sometimes youâ€™ll want the length of time waited in an `after` transition to be dynamic. A dynamic delay is specified by passing a string reference instead of the number of milliseconds.

Dynamic delays can either pass in a number or pass a function that returns the delay.

In the example below, `YELLOW_DELAY` passes a number, and `GREEN_DELAY` passes a function.

```ts twoslash
import { createMachine } from "xstate";

const lightDelayMachine = createMachine(
  {
    initial: "green",
    context: {
      trafficLevel: "low",
    },
    states: {
      green: {
        after: {
          // after the GREEN_DELAY, transition to yellow
          GREEN_DELAY: { target: "yellow" },
        },
      },
      yellow: {
        after: {
          // after the YELLOW_DELAY, transition to yellow
          YELLOW_DELAY: { target: "red" },
        },
      },
      red: {},
    },
  },
  {
    delays: {
      GREEN_DELAY: (context, event) => {
        return context.trafficLevel === "low" ? 1000 : 3000;
      },
      YELLOW_DELAY: 500,
    },
  },
);
```
