---
deps: ["states", "transitions-and-events"]
group: transitions-and-choices
status: complete # in-progress, complete
needs: # content, tech-review, copy-review
---

Timeouts and intervals can be hard to manage in application code. Statecharts make it easy and declarative using the `after` syntax.

The example below is a statechart for a game where you need to push a button within 5 seconds, or you get timed out:

```ts twoslash {7-12}
import { createMachine } from "xstate";

const pushTheButtonGame = createMachine({
  initial: "waitingForButtonPush",
  states: {
    waitingForButtonPush: {
      after: {
        5000: {
          target: "timedOut",
          actions: "logThatYouGotTimedOut",
        },
      },
      on: {
        PUSH_BUTTON: {
          actions: "logSuccess",
          target: "success",
        },
      },
    },
    success: {},
    timedOut: {},
  },
});
```

The `after` property is a keyed object. The key is the time you want to wait for in milliseconds (ms). You can also do conditional checks and if/else logic on the object, as with any transition.

One useful feature of the `after` declaration is that you don’t need to cancel the timers in your code. For example, if the `PUSH_BUTTON` event is received before the timeout finishes, the **timeout is automatically cancelled**. No `clearTimeout` needed.

You can also specify multiple delayed events on the same `after` declaration:

```ts twoslash {6-8}
import { createMachine } from "xstate";

// ---cut---
const pushTheButtonGame = createMachine({
  initial: "waitingForButtonPush",
  states: {
    waitingForButtonPush: {
      after: {
        4000: {
          actions: "warnThatYouAreAboutToLose",
        },
        5000: {
          target: "timedOut",
          actions: "logThatYouGotTimedOut",
        },
      },
      on: {
        PUSH_BUTTON: {
          actions: "logSuccess",
          target: "success",
        },
      },
    },
    success: {},
    timedOut: {},
  },
});
```

In the example above, the machine warns you when there’s one second remaining and then transitions.
