---
deps: ["transitions-and-events", "hierarchical-states", the-root-node]
group: deep-dive-states
status: complete # in-progress, complete
needs: # content, tech-review, copy-review
---

When a child state cannot handle an `event`, that `event` is propagated up to its parent state (including the root node) to be handled.

In the example below, when you wave at your friend and the machine is in the `friendIsLookingAtYou` state, the `friendWavesBack` action is fired.

```ts twoslash
import { createMachine } from "xstate";

const waveMachine = createMachine({
  on: {
    WAVE_AT_YOUR_FRIEND: {
      actions: "feelEmbarrassed",
    },
  },
  initial: "friendIsLookingAtYou",
  states: {
    friendIsLookingAtYou: {
      on: {
        WAVE_AT_YOUR_FRIEND: {
          actions: "friendWavesBack",
        },
      },
    },
    friendIsNotLookingAtYou: {},
    friendIsNotWhoYouThoughtTheyWere: {},
  },
});
```

If the machine is in the `friendIsNotLookingAtYou` or `friendIsNotWhoYouThoughtTheyWere` states, the event is propagated up to its parent state, the root node, and the `feelEmbarrassed` action is fired. Weâ€™ve all been there.

Adding transitions in the parent state helps reduce duplication when defining transitions.
