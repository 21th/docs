---
title: Parent states
---

import ThemedImage from '@theme/ThemedImage';

States can contain more states, also known as **child states**. These child states are only active when the parent state is active.

Child states are nested inside their parent states. Parent states are also known as **compound states**.

:::tip

Watch our [“Parent and child states” video on YouTube](https://www.youtube.com/watch?v=aUhEdeIf_mQ&list=PLvWgkXBB3dd4I_l-djWVU2UGPyBgKfnTQ&index=5) (1m6s).

:::

<p>
  <ThemedImage
    alt="Video player state machine containing closed and opened states. On the Play event, the Closed state transitions to the Opened state. The Opened state invokes a startVideo actor and has a description of “The video player should be in full-screen mode.” The Opened state contains Playing and Paused states, which are transitioned between using the Pause and Play events. There’s a Stop event from the Opened state that transitions to the final state of Stopped. There’s a delayed transition from the Stopped state back to the Closed state after 5 seconds."
    sources={{
      light:
        'https://stately.ai/registry/machines/9ba5377c-aab3-4465-8909-4eea499622fa.light.png',
      dark: 'https://stately.ai/registry/machines/9ba5377c-aab3-4465-8909-4eea499622fa.dark.png',
    }}
  />
</p>

[View this machine in Stately Studio](https://stately.ai/registry/editor/e13bef2b-bb13-4465-96ac-0bc25340688e?machineId=9ba5377c-aab3-4465-8909-4eea499622fa).

In the video player above, the *Opened* state is a parent state to the *Playing*, *Paused*, and *Stopped* states. These states, their transitions, and their events are nested inside the *Opened* state.

## Add a child state

First, select your machine or an existing state where you want to create the child state. Then…

- Use the **+ State** button that appears above the selected state to create a nested child state. Or…
- If a state already contains child states, you can double-click inside the parent state to create another child state.

## Change the parent state of a child state

Using the **State details** panel:

1. Select the child state you want to reparent.
2. Open the **State details** panel from the right tool menu.
3. Choose your desired new parent from the **Parent** dropdown menu.

---

## Root state

The state machine itself is a parent state! It’s the root state, and it’s always active.

It's normal to have a state machine that has no other states. This is useful for modeling a simple state machine that only handles events via transitions:

Example of a simple counting machine with increment, decrement, reset, and no states:

```ts
import { createMachine } from 'xstate';

const countingMachine = createMachine({
  id: 'counting',
  initial: 'active',
  on: {
    increment: {
      actions: assign({ count: ({ context }) => context.count + 1 }),
    },
    decrement: {
      actions: assign({ count: ({ context }) => context.count - 1 }),
    },
    reset: {
      actions: assign({ count: 0 }),
    },
  },
  // No child states!
});
```

## Initial state

The initial state of a parent state is the state that is entered when the parent state is entered. Parent states _must_ have an initial states.

You specify the initial state via the `initial` property of the parent state, which is the key of the initial state in the `states` object:

```ts
import { createMachine } from 'xstate';

const feedbackMachine = createMachine({
  // highlight-next-line
  initial: 'question',
  states: {
    // highlight-start
    question: {
      // ...
    },
    // highlight-end
    form: {
      // ...
    },
    thanks: {
      // ...
    },
  },
});
```

- Even if the parent state is never directly targeted and its child states are instead targeted, specifying the initial state in the `.initial` property is required. In this case, the `.initial` property can be any of the child states.

## Transitions on compound states

_Coming soon_

## TypeScript

_Coming soon_

## Cheatsheet

_Coming soon_
